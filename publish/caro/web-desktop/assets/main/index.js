System.register("chunks:///_virtual/GridGenerate.ts",["cc"],(function(e){"use strict";var t,i,n,a,l,r,o,s,u,c,p,b;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.Prefab,a=e.SpriteFrame,l=e.Node,r=e.Button,o=e.Sprite,s=e.Label,u=e.Component,c=e.UITransform,p=e.Layout,b=e.instantiate}],execute:function(){var m,f,y,h,d,L,C,g,v,z,M,w,P,G,T,V,k,B,H,I,_,E,S,U,j,F,O,R,x,A,D;function N(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function X(e,t,i,n,a){var l={};return Object.keys(n).forEach((function(e){l[e]=n[e]})),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),l),a&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(a):void 0,l.initializer=void 0),void 0===l.initializer&&(Object.defineProperty(e,t,l),l=null),l}t._RF.push({},"bf8fcVnrKxDw64GWokdyIum","GridGenerate",void 0);var Y=i.ccclass,q=i.property;e("GridGenerate",(m=Y("GridGenerate"),f=q({type:n}),y=q({type:n}),h=q({type:a}),d=q({type:a}),L=q({type:l}),C=q({type:l}),g=q({type:l}),v=q({type:l}),z=q({type:l}),M=q({type:l}),w=q({type:l}),P=q({type:l}),G=q({type:l}),T=q({type:l}),m((B=X((k=function(e){var t,i;function n(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return N(K(t=e.call.apply(e,[this].concat(n))||this),"HorizontalLine",B,K(t)),N(K(t),"VerticalLine",H,K(t)),N(K(t),"Player1",I,K(t)),N(K(t),"Player2",_,K(t)),N(K(t),"MainMenu",E,K(t)),N(K(t),"PauseMenu",S,K(t)),N(K(t),"UIContainer",U,K(t)),N(K(t),"HorizontalLinesList",j,K(t)),N(K(t),"VerticalLinesList",F,K(t)),N(K(t),"TableCellsList",O,K(t)),N(K(t),"MessageGameLabel",R,K(t)),N(K(t),"PauseMenuLabel",x,K(t)),N(K(t),"PlayGameButton",A,K(t)),N(K(t),"BackToMenuButton",D,K(t)),W(K(t),"ValueCellsList",[]),W(K(t),"isPlayer1Turn",!0),W(K(t),"rows",20),W(K(t),"columns",20),W(K(t),"backToMenuClick",(function(){t.PauseMenu.active=!1,t.UIContainer.active=!1,t.MainMenu.active=!0})),W(K(t),"playGameClick",(function(){t.startGame(),t.isPlayer1Turn=!0,t.MessageGameLabel.getComponent(s).string="This is Player 1 turn",t.PauseMenu.active=!1,t.UIContainer.active=!0,t.MainMenu.active=!1})),W(K(t),"createGame",(function(e,i){var n,a,l=null===(n=t.TableCellsList.getComponent(c))||void 0===n?void 0:n.contentSize.width,r=null===(a=t.TableCellsList.getComponent(c))||void 0===a?void 0:a.contentSize.height;void 0!==r&&void 0!==l&&(t.TableCellsList.getComponent(p).resizeMode=p.ResizeMode.CHILDREN,t.TableCellsList.getComponent(p).cellSize.set(l/i-6,r/e-6),t.TableCellsList.getComponent(p).updateLayout(),t.HorizontalLinesList.getComponent(p).spacingY=r/e-2,t.HorizontalLinesList.getComponent(p).updateLayout(),t.VerticalLinesList.getComponent(p).spacingX=l/i-2,t.VerticalLinesList.getComponent(p).updateLayout());for(var o=0;o<e+1;o++){var s=b(t.HorizontalLine);void 0!==l&&(s.getComponent(c).width=l),t.HorizontalLinesList.addChild(s)}for(var u=0;u<i+1;u++){var m=b(t.VerticalLine);void 0!==r&&(m.getComponent(c).height=r),t.VerticalLinesList.addChild(m)}})),W(K(t),"startGame",(function(){t.TableCellsList.removeAllChildren();for(var e=function(e){t.ValueCellsList[e]=[];for(var i=function(i){var n=new l;n.layer=Math.pow(2,25),n.addComponent(r).node.on("click",(function(){return t.tableCellClick(e*t.columns+i)})),t.TableCellsList.addChild(n),t.ValueCellsList[e][i]=0},n=0;n<t.columns;n++)i(n)},i=0;i<t.rows;i++)e(i)})),t}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=n.prototype;return a.onLoad=function(){var e,t=this;this.createGame(this.rows,this.columns),this.PlayGameButton.forEach((function(e){var i;null===(i=e.getComponent(r))||void 0===i||i.node.on("click",t.playGameClick)})),null===(e=this.BackToMenuButton.getComponent(r))||void 0===e||e.node.on("click",this.backToMenuClick)},a.start=function(){this.startGame()},a.tableCellClick=function(e){var t=Math.floor(e/this.columns),i=e%this.columns;0===this.ValueCellsList[t][i]&&(!0===this.isPlayer1Turn?(this.TableCellsList.children[e].addComponent(o).spriteFrame=this.Player1,this.ValueCellsList[t][i]=1):(this.TableCellsList.children[e].addComponent(o).spriteFrame=this.Player2,this.ValueCellsList[t][i]=2),this.checkGameEnd(t,i),this.isPlayer1Turn=!this.isPlayer1Turn,!0===this.isPlayer1Turn?this.MessageGameLabel.getComponent(s).string="This is Player 1 turn":this.MessageGameLabel.getComponent(s).string="This is Player 2 turn")},a.checkGameEnd=function(e,t){var i=e,n=t,a=0,l=0,r=0,o=0,u=1;!1===this.isPlayer1Turn&&(u=2);for(var c=-4;c<5;c++)if(void 0!==this.ValueCellsList[i+c]&&(void 0!==this.ValueCellsList[i+c][n]&&(this.ValueCellsList[i+c][n]===u?a++:a=0),void 0!==this.ValueCellsList[i][n+c]&&(this.ValueCellsList[i][n+c]===u?l++:l=0),void 0!==this.ValueCellsList[i+c][n+c]&&(this.ValueCellsList[i+c][n+c]===u?r++:r=0),void 0!==this.ValueCellsList[i+c][n-c]&&(this.ValueCellsList[i+c][n-c]===u?o++:o=0)),5===a||5===l||5===r||5===o)return!0===this.isPlayer1Turn?(this.MessageGameLabel.getComponent(s).string="Game is end, player 1 won !!!",this.PauseMenuLabel.getComponent(s).string="Game is end, player 1 won !!!"):(this.MessageGameLabel.getComponent(s).string="Game is end, player 2 won !!!",this.PauseMenuLabel.getComponent(s).string="Game is end, player 2 won !!!"),this.PauseMenu.active=!0,this.UIContainer.active=!0,this.MainMenu.active=!1,!0;return!1},n}(u)).prototype,"HorizontalLine",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=X(k.prototype,"VerticalLine",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=X(k.prototype,"Player1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=X(k.prototype,"Player2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=X(k.prototype,"MainMenu",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=X(k.prototype,"PauseMenu",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=X(k.prototype,"UIContainer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=X(k.prototype,"HorizontalLinesList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=X(k.prototype,"VerticalLinesList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=X(k.prototype,"TableCellsList",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=X(k.prototype,"MessageGameLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=X(k.prototype,"PauseMenuLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=X(k.prototype,"PlayGameButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=X(k.prototype,"BackToMenuButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=k))||V));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./GridGenerate.ts"],(function(){"use strict";return{setters:[function(){}],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});